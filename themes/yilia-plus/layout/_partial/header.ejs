<header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="<%- url_for('/') %>" id="logo"><%= config.title %></a>
      </h1>
      <% if (config.subtitle) { %>
        <h2 id="subtitle-wrap">
          <a href="<%- url_for('/') %>" id="subtitle"><%= config.subtitle %></a>
        </h2>
      <% } %>
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        <% 
          // æ£€æµ‹å½“å‰è¯­è¨€
          var isEnglish = page.path && page.path.startsWith('en/');
          
          // èœå•ç¿»è¯‘æ˜ å°„
          var menuTranslations = {
            'ä¸»é¡µ': 'Home',
            'é¡¹ç›®å·¥åŠ': 'Project Workshop',
            'å†™ä½œä¸ŽæŠ€è‰º': 'Writing Craft',
            'å…³äºŽæˆ‘': 'About Me',
            'æŠ€æœ¯ç¬”è®°': 'Tech Notes',
            'éšç¬”': 'Essays'
          };
        %>
        <% for (var i in theme.menu){ %>
          <a class="main-nav-link" href="<%- url_for(theme.menu[i]) %>"><%= isEnglish && menuTranslations[i] ? menuTranslations[i] : i %></a>
        <% } %>
      </nav>
      <nav id="sub-nav">
        <div class="lang-switch">
          <a href="/cn/" class="lang-btn <%= page.lang === 'cn' ? 'active' : '' %>">
            <span>ðŸ‡¨ðŸ‡³</span>
            <span>ä¸­æ–‡</span>
          </a>
          <span class="lang-divider">|</span>
          <a href="/en/" class="lang-btn <%= page.lang === 'en' ? 'active' : '' %>">
            <span>ðŸ‡¬ðŸ‡§</span>
            <span>English</span>
          </a>
        </div>
        
        <% if (theme.rss){ %>
          <a id="nav-rss-link" class="nav-icon" href="<%- url_for(theme.rss) %>" title="RSS Feed"></a>
        <% } %>
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <%- search_form({button: '&#xF002;'}) %>
      </div>
    </div>
  </div>
</header>
